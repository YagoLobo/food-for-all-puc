@model FoodforAll.Models.ViewModels.UsuarioCadastroViewModel
@{
    ViewData["Title"] = "Criar Usuário";
}

<h2>Criar Usuário</h2>

<form asp-action="Cadastro" method="post">
    <div class="form-group">
        <label asp-for="Nome"></label>
        <input asp-for="Nome" class="form-control" />
        <span asp-validation-for="Nome" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Email"></label>
        <input asp-for="Email" class="form-control" />
        <span asp-validation-for="Email" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Password"></label>
        <input asp-for="Password" type="password" class="form-control" />
        <span asp-validation-for="Password" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Telefone"></label>
        <input asp-for="Telefone" class="form-control" />
        <span asp-validation-for="Telefone" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Endereco"></label>
        <input asp-for="Endereco" class="form-control" />
        <span asp-validation-for="Endereco" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="UserType">Tipo de Usuário</label>
        <select asp-for="UserType" class="form-control" id="userTypeSelect">
            <option value="">Selecione</option>
            <option value="1">Estabelecimento Doador</option>
            <option value="2">Estabelecimento Receptor</option>
        </select>
        <span asp-validation-for="UserType" class="text-danger"></span>
    </div>

    <!-- DOADOR -->
    <div id="doadorFields" style="display:none;">
        <h4>Informações do Estabelecimento Doador</h4>

        <div class="form-group">
            <label asp-for="CNPJ"></label>
            <input asp-for="CNPJ" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="NomeFantasia"></label>
            <input asp-for="NomeFantasia" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="TransporteProprio">Tem transporte próprio?</label>
            <input asp-for="TransporteProprio" type=`text` class="form-check-input" />
        </div>
    </div>

    <!-- RECEPTOR -->
    <div id="receptorFields" style="display:none;">
        <h4>Informações do Estabelecimento Receptor</h4>

        <div class="form-group">
            <label asp-for="NomeReceptor"></label>
            <input asp-for="NomeReceptor" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="RegistroGoverno"></label>
            <input asp-for="RegistroGoverno" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="Aprovada">Aprovada no programa?</label>
            <input asp-for="Aprovada" type=`text` class="form-check-input" />
        </div>

        <div class="form-group">
            <label asp-for="RefeicoesDiarias"></label>
            <input asp-for="RefeicoesDiarias" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="ResponsavelTecnico"></label>
            <input asp-for="ResponsavelTecnico" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="HorarioRecebimentoDoacoes"></label>
            <input asp-for="HorarioRecebimentoDoacoes" class="form-control" />
        </div>
    </div>

    <br />
    <button type="submit" class="btn btn-primary">Salvar</button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.getElementById("userTypeSelect").addEventListener("change", function () {
            var tipo = this.value;
            document.getElementById("doadorFields").style.display = (tipo === "1") ? "block" : "none";
            document.getElementById("receptorFields").style.display = (tipo === "2") ? "block" : "none";
        });
    </script>
}